# Rust Panic Free Analyzer

## Overview

Rust Panic Free Analyzer is an audit tool designed to scan your Rust crate or workspace. Its primary function is to identify potential panic points in your codebase, leading you in developing binaries and libraries that are as close to "Panic Free" as possible.

> â„¹ï¸ As of now, it only currently searches the crates that you develop, and not the dependencies of your crates.

## How does it work?

### Key Identification Patterns

The tool searches for usage of several key patterns in Rust code that are often associated with panic points. These include:

- `panic!`: Direct calls to the `panic!` macro, which causes the program to terminate immediately and provide an error message.
- `unwrap`: Calls to the `.unwrap()` method, often used on `Option` or `Result` types, which will cause a panic if the value is `None` or `Err`.
- `expect`: Similar to `unwrap`, but allows specifying a custom error message.
- `Array Indexing`: Direct indexing into arrays (e.g., arr[index]) without bounds checking, which can panic if the index is out of bounds. (A safer indexing method is `.get()`)
- `unreachable!`: Indicates code that should never be reached; panics if executed.
- `todo!` and `unimplemented!`: Macros indicating incomplete or unimplemented code, which will panic if reached.


## Installation

To start using it, you need to install it first.

```sh
cargo install panic-free-analyzer
```


## Usage:

After installation, you can run the analyzer on your crate or entire workspace. Use the following command:

```sh
cargo panic-analyzer
```

If you wish to exclude specific crates from your workspace during the analysis, set the `IGNORED_CRATES`` environment variable. Pass the names of the crates you want to exclude, separated by commas:

```sh
IGNORED_CRATES=tests,benches cargo panic-analyzer
```

# Audit Results Example ğŸ‘‡

Below is an example of an audit result generated by the Rust Panic Free Analyzer:


# ğŸš¨ Rust Panic Audit: 141 Potential Panic Points Detected ğŸš¨

## Crate: `vrl`

ğŸ“Š Total Usages: 37

- ğŸ” `expect` usages: 1
- ğŸ `unwrap` usages: 32
- ğŸš¨ `panic` usages: 1
- ğŸ”¢ `array_index` usages: 3

## Crate: `jwt_auth`

ğŸ“Š Total Usages: 31

- ğŸ `unwrap` usages: 29
- ğŸ”¢ `array_index` usages: 2

## Crate: `config`

ğŸ“Š Total Usages: 14

- ğŸš¨ `panic` usages: 3
- ğŸ” `expect` usages: 3
- ğŸ `unwrap` usages: 8

## ğŸ“Œ Expected Annotations

### Crate: `common`

ğŸ“Š Total Expected Usages: 1

- Reason: "we need this"
- Code: `panic!("Exited process!")`
- Location: `./libs/common/src/lib.rs:18`